<div class="page-width section-{{ section.id }}-padding">
  <div id="before-after-container-{{ section.id }}" class="before-after-container">
    <div class="img-comp-container">
      <div class="img-comp-img before-image">
        {% if section.settings.before_image != blank %}
          {{ section.settings.before_image | image_url: width: 1500 | image_tag: 
            loading: 'lazy',
            class: 'before-image-tag',
            alt: section.settings.before_image_alt | escape
          }}
        {% else %}
          <div class="placeholder-image">Please select a Before image</div>
        {% endif %}
        <div class="before-label">{{ section.settings.before_label }}</div>
      </div>
      <div class="img-comp-img img-comp-overlay after-image">
        {% if section.settings.after_image != blank %}
          {{ section.settings.after_image | image_url: width: 1500 | image_tag: 
            loading: 'lazy',
            class: 'after-image-tag',
            alt: section.settings.after_image_alt | escape
          }}
        {% else %}
          <div class="placeholder-image">Please select an After image</div>
        {% endif %}
        <div class="after-label">{{ section.settings.after_label }}</div>
      </div>
    </div>
  </div>
</div>

<style>
.before-after-container {
  position: relative;
  max-width: 100%;
  margin: 0 auto;
}

.img-comp-container {
  position: relative;
  height: 400px; /* Can be adjusted */
  width: 100%;
}

.img-comp-img {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.img-comp-img img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.placeholder-image {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #f0f0f0;
  color: #666;
}

.img-comp-overlay {
  width: 50%;
  border-right: 4px solid white;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
}

.before-label, .after-label {
  position: absolute;
  bottom: 15px;
  padding: 5px 10px;
  background: rgba(0,0,0,0.7);
  color: white;
  font-weight: bold;
  border-radius: 4px;
  z-index: 10;
}

.before-label {
  left: 15px;
}

.after-label {
  right: 15px;
}

.img-comp-slider {
  position: absolute;
  z-index: 9;
  cursor: ew-resize;
  width: 40px;
  height: 40px;
  background-color: white;
  border-radius: 50%;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 0 5px rgba(0,0,0,0.5);
}

.img-comp-slider::before {
  content: "â†”";
  font-size: 20px;
  color: #333;
}

@media screen and (max-width: 767px) {
  .img-comp-container {
    height: 300px;
  }
}
</style>

<a data-encoded-tag-name="script" data-encoded-tag-value="JTBBJTJGJTJGJTIwSW5pdGlhbGl6ZSUyMHRoZSUyMGNvbXBhcmlzb24lMjBzbGlkZXIlMjB3aGVuJTIwdGhlJTIwcGFnZSUyMGlzJTIwZnVsbHklMjBsb2FkZWQlMEFkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJyUyQyUyMGZ1bmN0aW9uKCklMjAlN0IlMEElMjAlMjAlMkYlMkYlMjBXYWl0JTIwYSUyMGJpdCUyMHRvJTIwZW5zdXJlJTIwaW1hZ2VzJTIwYXJlJTIwbG9hZGVkJTBBJTIwJTIwc2V0VGltZW91dChmdW5jdGlvbigpJTIwJTdCJTBBJTIwJTIwJTIwJTIwaW5pdEJlZm9yZUFmdGVyU2xpZGVyKCclN0IlN0IlMjBzZWN0aW9uLmlkJTIwJTdEJTdEJyklM0IlMEElMjAlMjAlN0QlMkMlMjA1MDApJTNCJTBBJTdEKSUzQiUwQSUwQWZ1bmN0aW9uJTIwaW5pdEJlZm9yZUFmdGVyU2xpZGVyKHNlY3Rpb25JZCklMjAlN0IlMEElMjAlMjBjb25zdCUyMGNvbnRhaW5lciUyMCUzRCUyMGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZWZvcmUtYWZ0ZXItY29udGFpbmVyLSclMjAlMkIlMjBzZWN0aW9uSWQpJTNCJTBBJTIwJTIwaWYlMjAoIWNvbnRhaW5lciklMjByZXR1cm4lM0IlMEElMjAlMjAlMEElMjAlMjBjb25zdCUyMG92ZXJsYXklMjAlM0QlMjBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmltZy1jb21wLW92ZXJsYXknKSUzQiUwQSUyMCUyMGlmJTIwKCFvdmVybGF5KSUyMHJldHVybiUzQiUwQSUyMCUyMCUwQSUyMCUyMGNvbnN0JTIwd2lkdGglMjAlM0QlMjBvdmVybGF5Lm9mZnNldFdpZHRoJTNCJTBBJTIwJTIwY29uc3QlMjBoZWlnaHQlMjAlM0QlMjBvdmVybGF5Lm9mZnNldEhlaWdodCUzQiUwQSUyMCUyMCUwQSUyMCUyMCUyRiUyRiUyMENyZWF0ZSUyMHNsaWRlciUyMGhhbmRsZSUwQSUyMCUyMGNvbnN0JTIwc2xpZGVyJTIwJTNEJTIwZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyklM0IlMEElMjAlMjBzbGlkZXIuc2V0QXR0cmlidXRlKCdjbGFzcyclMkMlMjAnaW1nLWNvbXAtc2xpZGVyJyklM0IlMEElMjAlMjBvdmVybGF5LnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHNsaWRlciUyQyUyMG92ZXJsYXkpJTNCJTBBJTIwJTIwJTBBJTIwJTIwJTJGJTJGJTIwUG9zaXRpb24lMjB0aGUlMjBzbGlkZXIlMjBpbiUyMHRoZSUyMG1pZGRsZSUwQSUyMCUyMHNsaWRlci5zdHlsZS5sZWZ0JTIwJTNEJTIwKHdpZHRoJTIwJTJGJTIwMiklMjAtJTIwKHNsaWRlci5vZmZzZXRXaWR0aCUyMCUyRiUyMDIpJTIwJTJCJTIwJ3B4JyUzQiUwQSUyMCUyMCUwQSUyMCUyMGxldCUyMGlzRHJhZ2dpbmclMjAlM0QlMjBmYWxzZSUzQiUwQSUyMCUyMCUwQSUyMCUyMCUyRiUyRiUyME1vdXNlJTIwZXZlbnRzJTBBJTIwJTIwc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93biclMkMlMjBmdW5jdGlvbihlKSUyMCU3QiUwQSUyMCUyMCUyMCUyMGUucHJldmVudERlZmF1bHQoKSUzQiUwQSUyMCUyMCUyMCUyMGlzRHJhZ2dpbmclMjAlM0QlMjB0cnVlJTNCJTBBJTIwJTIwJTdEKSUzQiUwQSUyMCUyMCUwQSUyMCUyMCUyRiUyRiUyMFRvdWNoJTIwZXZlbnRzJTBBJTIwJTIwc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnJTJDJTIwZnVuY3Rpb24oZSklMjAlN0IlMEElMjAlMjAlMjAlMjBlLnByZXZlbnREZWZhdWx0KCklM0IlMEElMjAlMjAlMjAlMjBpc0RyYWdnaW5nJTIwJTNEJTIwdHJ1ZSUzQiUwQSUyMCUyMCU3RCklM0IlMEElMjAlMjAlMEElMjAlMjAlMkYlMkYlMjBNb3VzZSUyMG1vdmUlMEElMjAlMjB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyUyQyUyMGZ1bmN0aW9uKGUpJTIwJTdCJTBBJTIwJTIwJTIwJTIwaWYlMjAoIWlzRHJhZ2dpbmcpJTIwcmV0dXJuJTNCJTBBJTIwJTIwJTIwJTIwbW92ZVNsaWRlcihlJTJDJTIwY29udGFpbmVyJTJDJTIwb3ZlcmxheSUyQyUyMHNsaWRlciklM0IlMEElMjAlMjAlN0QpJTNCJTBBJTIwJTIwJTBBJTIwJTIwJTJGJTJGJTIwVG91Y2glMjBtb3ZlJTBBJTIwJTIwd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZSclMkMlMjBmdW5jdGlvbihlKSUyMCU3QiUwQSUyMCUyMCUyMCUyMGlmJTIwKCFpc0RyYWdnaW5nKSUyMHJldHVybiUzQiUwQSUyMCUyMCUyMCUyMG1vdmVTbGlkZXIoZSUyQyUyMGNvbnRhaW5lciUyQyUyMG92ZXJsYXklMkMlMjBzbGlkZXIlMkMlMjB0cnVlKSUzQiUwQSUyMCUyMCU3RCklM0IlMEElMjAlMjAlMEElMjAlMjAlMkYlMkYlMjBTdG9wJTIwZHJhZ2dpbmclMEElMjAlMjB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCclMkMlMjBmdW5jdGlvbigpJTIwJTdCJTBBJTIwJTIwJTIwJTIwaXNEcmFnZ2luZyUyMCUzRCUyMGZhbHNlJTNCJTBBJTIwJTIwJTdEKSUzQiUwQSUyMCUyMCUwQSUyMCUyMHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCclMkMlMjBmdW5jdGlvbigpJTIwJTdCJTBBJTIwJTIwJTIwJTIwaXNEcmFnZ2luZyUyMCUzRCUyMGZhbHNlJTNCJTBBJTIwJTIwJTdEKSUzQiUwQSU3RCUwQSUwQWZ1bmN0aW9uJTIwbW92ZVNsaWRlcihlJTJDJTIwY29udGFpbmVyJTJDJTIwb3ZlcmxheSUyQyUyMHNsaWRlciUyQyUyMGlzVG91Y2glMjAlM0QlMjBmYWxzZSklMjAlN0IlMEElMjAlMjAlMkYlMkYlMjBHZXQlMjBjdXJzb3IlMjBwb3NpdGlvbiUwQSUyMCUyMGNvbnN0JTIwY29udGFpbmVyUmVjdCUyMCUzRCUyMGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuaW1nLWNvbXAtY29udGFpbmVyJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCklM0IlMEElMjAlMjBsZXQlMjB4JTNCJTBBJTIwJTIwJTBBJTIwJTIwaWYlMjAoaXNUb3VjaCklMjAlN0IlMEElMjAlMjAlMjAlMjB4JTIwJTNEJTIwZS50b3VjaGVzJTVCMCU1RC5jbGllbnRYJTIwLSUyMGNvbnRhaW5lclJlY3QubGVmdCUzQiUwQSUyMCUyMCU3RCUyMGVsc2UlMjAlN0IlMEElMjAlMjAlMjAlMjB4JTIwJTNEJTIwZS5jbGllbnRYJTIwLSUyMGNvbnRhaW5lclJlY3QubGVmdCUzQiUwQSUyMCUyMCU3RCUwQSUyMCUyMCUwQSUyMCUyMCUyRiUyRiUyMENvbnN0cmFpbiUyMHRvJTIwY29udGFpbmVyJTIwYm91bmRzJTBBJTIwJTIwaWYlMjAoeCUyMCUzQyUyMDApJTIweCUyMCUzRCUyMDAlM0IlMEElMjAlMjBpZiUyMCh4JTIwJTNFJTIwY29udGFpbmVyUmVjdC53aWR0aCklMjB4JTIwJTNEJTIwY29udGFpbmVyUmVjdC53aWR0aCUzQiUwQSUyMCUyMCUwQSUyMCUyMCUyRiUyRiUyMFNldCUyMHdpZHRoJTIwb2YlMjBvdmVybGF5JTIwYW5kJTIwcG9zaXRpb24lMjBvZiUyMHNsaWRlciUwQSUyMCUyMG92ZXJsYXkuc3R5bGUud2lkdGglMjAlM0QlMjB4JTIwJTJCJTIwJ3B4JyUzQiUwQSUyMCUyMHNsaWRlci5zdHlsZS5sZWZ0JTIwJTNEJTIweCUyMC0lMjAoc2xpZGVyLm9mZnNldFdpZHRoJTIwJTJGJTIwMiklMjAlMkIlMjAncHgnJTNCJTBBJTdEJTBB"></a>

{% schema %}
{
  "name": "Before After Slider",
  "settings": [
    {
      "type": "image_picker",
      "id": "before_image",
      "label": "Before Image"
    },
    {
      "type": "text",
      "id": "before_image_alt",
      "label": "Before Image Alt Text",
      "default": "Before Image"
    },
    {
      "type": "text",
      "id": "before_label",
      "label": "Before Label",
      "default": "Before"
    },
    {
      "type": "image_picker",
      "id": "after_image",
      "label": "After Image"
    },
    {
      "type": "text",
      "id": "after_image_alt",
      "label": "After Image Alt Text",
      "default": "After Image"
    },
    {
      "type": "text",
      "id": "after_label",
      "label": "After Label",
      "default": "After"
    }
  ],
  "presets": [
    {
      "name": "Before After Slider",
      "category": "Custom"
    }
  ]
}
{% endschema %}
