<div class="page-width section-{{ section.id }}-padding">
  <div class="before-after-container">
    <div class="img-comp-container">
      <div class="img-comp-img">
        {% if section.settings.before_image != blank %}
          {{ section.settings.before_image | image_url: width: 1500 | image_tag: 
            loading: 'lazy',
            class: 'before-image-tag',
            alt: section.settings.before_image_alt | escape
          }}
        {% else %}
          <div class="placeholder-image">Please select a Before image</div>
        {% endif %}
        <div class="before-label">{{ section.settings.before_label }}</div>
      </div>
      <div class="img-comp-img img-comp-overlay">
        {% if section.settings.after_image != blank %}
          {{ section.settings.after_image | image_url: width: 1500 | image_tag: 
            loading: 'lazy',
            class: 'after-image-tag',
            alt: section.settings.after_image_alt | escape
          }}
        {% else %}
          <div class="placeholder-image">Please select an After image</div>
        {% endif %}
        <div class="after-label">{{ section.settings.after_label }}</div>
      </div>
    </div>
  </div>
</div>

<style>
.before-after-container {
  position: relative;
  max-width: 100%;
  margin: 0 auto;
}

.img-comp-container {
  position: relative;
  height: 400px; /* Can be adjusted */
  width: 100%;
}

.img-comp-img {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.img-comp-img img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.placeholder-image {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #f0f0f0;
  color: #666;
}

.img-comp-overlay {
  width: 50%;
  border-right: 4px solid white;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
}

.before-label, .after-label {
  position: absolute;
  bottom: 15px;
  padding: 5px 10px;
  background: rgba(0,0,0,0.7);
  color: white;
  font-weight: bold;
  border-radius: 4px;
}

.before-label {
  left: 15px;
}

.after-label {
  right: 15px;
}

.img-comp-slider {
  position: absolute;
  z-index: 9;
  cursor: ew-resize;
  width: 40px;
  height: 40px;
  background-color: white;
  border-radius: 50%;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 0 5px rgba(0,0,0,0.5);
}

.img-comp-slider::before {
  content: "â†”";
  font-size: 20px;
  color: #333;
}

@media screen and (max-width: 767px) {
  .img-comp-container {
    height: 300px;
  }
}
</style>

<a data-encoded-tag-name="script" data-encoded-tag-value="JTBBZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCclMkMlMjBmdW5jdGlvbigpJTIwJTdCJTBBJTIwJTIwaW5pdENvbXBhcmlzb25zKCklM0IlMEElN0QpJTNCJTBBJTBBZnVuY3Rpb24lMjBpbml0Q29tcGFyaXNvbnMoKSUyMCU3QiUwQSUyMCUyMHZhciUyMHglMkMlMjBpJTNCJTBBJTIwJTIweCUyMCUzRCUyMGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJTIyaW1nLWNvbXAtb3ZlcmxheSUyMiklM0IlMEElMjAlMjBmb3IlMjAoaSUyMCUzRCUyMDAlM0IlMjBpJTIwJTNDJTIweC5sZW5ndGglM0IlMjBpJTJCJTJCKSUyMCU3QiUwQSUyMCUyMCUyMCUyMGNvbXBhcmVJbWFnZXMoeCU1QmklNUQpJTNCJTBBJTIwJTIwJTdEJTBBJTIwJTIwJTBBJTIwJTIwZnVuY3Rpb24lMjBjb21wYXJlSW1hZ2VzKGltZyklMjAlN0IlMEElMjAlMjAlMjAlMjB2YXIlMjBzbGlkZXIlMkMlMjBjbGlja2VkJTIwJTNEJTIwMCUyQyUyMHclMkMlMjBoJTNCJTBBJTIwJTIwJTIwJTIwdyUyMCUzRCUyMGltZy5vZmZzZXRXaWR0aCUzQiUwQSUyMCUyMCUyMCUyMGglMjAlM0QlMjBpbWcub2Zmc2V0SGVpZ2h0JTNCJTBBJTIwJTIwJTIwJTIwJTBBJTIwJTIwJTIwJTIwJTJGJTJGJTIwQ3JlYXRlJTIwc2xpZGVyJTBBJTIwJTIwJTIwJTIwc2xpZGVyJTIwJTNEJTIwZG9jdW1lbnQuY3JlYXRlRWxlbWVudCglMjJESVYlMjIpJTNCJTBBJTIwJTIwJTIwJTIwc2xpZGVyLnNldEF0dHJpYnV0ZSglMjJjbGFzcyUyMiUyQyUyMCUyMmltZy1jb21wLXNsaWRlciUyMiklM0IlMEElMjAlMjAlMjAlMjBpbWcucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoc2xpZGVyJTJDJTIwaW1nKSUzQiUwQSUyMCUyMCUyMCUyMCUwQSUyMCUyMCUyMCUyMCUyRiUyRiUyMFBvc2l0aW9uJTIwdGhlJTIwc2xpZGVyJTIwaW4lMjB0aGUlMjBtaWRkbGUlMEElMjAlMjAlMjAlMjBzbGlkZXIuc3R5bGUubGVmdCUyMCUzRCUyMCh3JTIwJTJGJTIwMiklMjAtJTIwKHNsaWRlci5vZmZzZXRXaWR0aCUyMCUyRiUyMDIpJTIwJTJCJTIwJTIycHglMjIlM0IlMEElMjAlMjAlMjAlMjAlMEElMjAlMjAlMjAlMjAlMkYlMkYlMjBFeGVjdXRlJTIwYSUyMGZ1bmN0aW9uJTIwd2hlbiUyMHRoZSUyMG1vdXNlJTIwYnV0dG9uJTIwaXMlMjBwcmVzc2VkJTBBJTIwJTIwJTIwJTIwc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJTIybW91c2Vkb3duJTIyJTJDJTIwc2xpZGVSZWFkeSklM0IlMEElMjAlMjAlMjAlMjAlMkYlMkYlMjBUb3VjaCUyMGV2ZW50cyUyMGZvciUyMG1vYmlsZSUwQSUyMCUyMCUyMCUyMHNsaWRlci5hZGRFdmVudExpc3RlbmVyKCUyMnRvdWNoc3RhcnQlMjIlMkMlMjBzbGlkZVJlYWR5KSUzQiUwQSUyMCUyMCUyMCUyMCUwQSUyMCUyMCUyMCUyMCUyRiUyRiUyMEZ1bmN0aW9uJTIwZXhlY3V0ZWQlMjB3aGVuJTIwdGhlJTIwc2xpZGVyJTIwaXMlMjBjbGlja2VkJTBBJTIwJTIwJTIwJTIwZnVuY3Rpb24lMjBzbGlkZVJlYWR5KGUpJTIwJTdCJTBBJTIwJTIwJTIwJTIwJTIwJTIwZS5wcmV2ZW50RGVmYXVsdCgpJTNCJTBBJTIwJTIwJTIwJTIwJTIwJTIwY2xpY2tlZCUyMCUzRCUyMDElM0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMEElMjAlMjAlMjAlMjAlMjAlMjAlMkYlMkYlMjBFeGVjdXRlJTIwYSUyMGZ1bmN0aW9uJTIwd2hlbiUyMHRoZSUyMHNsaWRlciUyMGlzJTIwbW92ZWQlMEElMjAlMjAlMjAlMjAlMjAlMjB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciglMjJtb3VzZW1vdmUlMjIlMkMlMjBzbGlkZU1vdmUpJTNCJTBBJTIwJTIwJTIwJTIwJTIwJTIwd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJTIydG91Y2htb3ZlJTIyJTJDJTIwc2xpZGVNb3ZlKSUzQiUwQSUyMCUyMCUyMCUyMCU3RCUwQSUyMCUyMCUyMCUyMCUwQSUyMCUyMCUyMCUyMCUyRiUyRiUyMEZ1bmN0aW9uJTIwZXhlY3V0ZWQlMjB3aGVuJTIwdGhlJTIwc2xpZGVyJTIwbW92ZW1lbnQlMjBpcyUyMGVuZGVkJTBBJTIwJTIwJTIwJTIwZnVuY3Rpb24lMjBzbGlkZUZpbmlzaCgpJTIwJTdCJTBBJTIwJTIwJTIwJTIwJTIwJTIwY2xpY2tlZCUyMCUzRCUyMDAlM0IlMEElMjAlMjAlMjAlMjAlMjAlMjB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciglMjJtb3VzZW1vdmUlMjIlMkMlMjBzbGlkZU1vdmUpJTNCJTBBJTIwJTIwJTIwJTIwJTIwJTIwd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJTIydG91Y2htb3ZlJTIyJTJDJTIwc2xpZGVNb3ZlKSUzQiUwQSUyMCUyMCUyMCUyMCU3RCUwQSUyMCUyMCUyMCUyMCUwQSUyMCUyMCUyMCUyMCUyRiUyRiUyMEFkZCUyMHRoZSUyMGV2ZW50JTIwbGlzdGVuZXJzJTIwZm9yJTIwbW91c2V1cCUyMGFuZCUyMHRvdWNoZW5kJTBBJTIwJTIwJTIwJTIwd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJTIybW91c2V1cCUyMiUyQyUyMHNsaWRlRmluaXNoKSUzQiUwQSUyMCUyMCUyMCUyMHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCUyMnRvdWNoZW5kJTIyJTJDJTIwc2xpZGVGaW5pc2gpJTNCJTBBJTIwJTIwJTIwJTIwJTBBJTIwJTIwJTIwJTIwJTJGJTJGJTIwRnVuY3Rpb24lMjBleGVjdXRlZCUyMHdoZW4lMjB0aGUlMjBzbGlkZXIlMjBpcyUyMG1vdmVkJTBBJTIwJTIwJTIwJTIwZnVuY3Rpb24lMjBzbGlkZU1vdmUoZSklMjAlN0IlMEElMjAlMjAlMjAlMjAlMjAlMjB2YXIlMjBwb3MlM0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMEElMjAlMjAlMjAlMjAlMjAlMjAlMkYlMkYlMjBJZiUyMHRoZSUyMHNsaWRlciUyMGlzJTIwbm8lMjBsb25nZXIlMjBjbGlja2VkJTJDJTIwZXhpdCUyMHRoZSUyMGZ1bmN0aW9uJTBBJTIwJTIwJTIwJTIwJTIwJTIwaWYlMjAoY2xpY2tlZCUyMCUzRCUzRCUyMDApJTIwcmV0dXJuJTIwZmFsc2UlM0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMEElMjAlMjAlMjAlMjAlMjAlMjAlMkYlMkYlMjBHZXQlMjB0aGUlMjBjdXJzb3IncyUyMHglMjBwb3NpdGlvbiUwQSUyMCUyMCUyMCUyMCUyMCUyMHBvcyUyMCUzRCUyMGdldEN1cnNvclBvcyhlKSUzQiUwQSUyMCUyMCUyMCUyMCUyMCUyMCUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyRiUyRiUyMFByZXZlbnQlMjB0aGUlMjBzbGlkZXIlMjBmcm9tJTIwYmVpbmclMjBwb3NpdGlvbmVkJTIwb3V0c2lkZSUyMHRoZSUyMGltYWdlJTBBJTIwJTIwJTIwJTIwJTIwJTIwaWYlMjAocG9zJTIwJTNDJTIwMCklMjBwb3MlMjAlM0QlMjAwJTNCJTBBJTIwJTIwJTIwJTIwJTIwJTIwaWYlMjAocG9zJTIwJTNFJTIwdyklMjBwb3MlMjAlM0QlMjB3JTNCJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTJGJTJGJTIwRXhlY3V0ZSUyMGElMjBmdW5jdGlvbiUyMHRoYXQlMjB3aWxsJTIwcmVzaXplJTIwdGhlJTIwb3ZlcmxheSUyMGltYWdlJTIwYWNjb3JkaW5nJTIwdG8lMjB0aGUlMjBjdXJzb3IlMEElMjAlMjAlMjAlMjAlMjAlMjBzbGlkZShwb3MpJTNCJTBBJTIwJTIwJTIwJTIwJTdEJTBBJTIwJTIwJTIwJTIwJTBBJTIwJTIwJTIwJTIwJTJGJTJGJTIwR2V0JTIwdGhlJTIwY3Vyc29yJ3MlMjBwb3NpdGlvbiUwQSUyMCUyMCUyMCUyMGZ1bmN0aW9uJTIwZ2V0Q3Vyc29yUG9zKGUpJTIwJTdCJTBBJTIwJTIwJTIwJTIwJTIwJTIwdmFyJTIwYSUyQyUyMHglMjAlM0QlMjAwJTNCJTBBJTIwJTIwJTIwJTIwJTIwJTIwZSUyMCUzRCUyMGUlMjAlN0MlN0MlMjB3aW5kb3cuZXZlbnQlM0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMEElMjAlMjAlMjAlMjAlMjAlMjAlMkYlMkYlMjBHZXQlMjB0aGUlMjB4JTIwcG9zaXRpb25zJTIwb2YlMjB0aGUlMjBpbWFnZSUwQSUyMCUyMCUyMCUyMCUyMCUyMGElMjAlM0QlMjBpbWcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCklM0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMEElMjAlMjAlMjAlMjAlMjAlMjAlMkYlMkYlMjBDYWxjdWxhdGUlMjB0aGUlMjBjdXJzb3IncyUyMHglMjBjb29yZGluYXRlJTJDJTIwcmVsYXRpdmUlMjB0byUyMHRoZSUyMGltYWdlJTBBJTIwJTIwJTIwJTIwJTIwJTIwaWYlMjAoZS50eXBlJTIwJTNEJTNEJTNEJTIwJ3RvdWNobW92ZScpJTIwJTdCJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIweCUyMCUzRCUyMGUudG91Y2hlcyU1QjAlNUQuY2xpZW50WCUyMC0lMjBhLmxlZnQlM0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlN0QlMjBlbHNlJTIwJTdCJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIweCUyMCUzRCUyMGUuY2xpZW50WCUyMC0lMjBhLmxlZnQlM0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlN0QlMEElMjAlMjAlMjAlMjAlMjAlMjAlMEElMjAlMjAlMjAlMjAlMjAlMjByZXR1cm4lMjB4JTNCJTBBJTIwJTIwJTIwJTIwJTdEJTBBJTIwJTIwJTIwJTIwJTBBJTIwJTIwJTIwJTIwJTJGJTJGJTIwRnVuY3Rpb24lMjB0aGF0JTIwcmVzaXplcyUyMHRoZSUyMG92ZXJsYXklMjBpbWFnZSUwQSUyMCUyMCUyMCUyMGZ1bmN0aW9uJTIwc2xpZGUoeCklMjAlN0IlMEElMjAlMjAlMjAlMjAlMjAlMjAlMkYlMkYlMjBSZXNpemUlMjB0aGUlMjBpbWFnZSUwQSUyMCUyMCUyMCUyMCUyMCUyMGltZy5zdHlsZS53aWR0aCUyMCUzRCUyMHglMjAlMkIlMjAlMjJweCUyMiUzQiUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyRiUyRiUyMFBvc2l0aW9uJTIwdGhlJTIwc2xpZGVyJTBBJTIwJTIwJTIwJTIwJTIwJTIwc2xpZGVyLnN0eWxlLmxlZnQlMjAlM0QlMjBpbWcub2Zmc2V0V2lkdGglMjAtJTIwKHNsaWRlci5vZmZzZXRXaWR0aCUyMCUyRiUyMDIpJTIwJTJCJTIwJTIycHglMjIlM0IlMEElMjAlMjAlMjAlMjAlN0QlMEElMjAlMjAlN0QlMEElN0QlMEE="></a>

{% schema %}
{
  "name": "Before After Slider",
  "settings": [
    {
      "type": "image_picker",
      "id": "before_image",
      "label": "Before Image"
    },
    {
      "type": "text",
      "id": "before_image_alt",
      "label": "Before Image Alt Text",
      "default": "Before Image"
    },
    {
      "type": "text",
      "id": "before_label",
      "label": "Before Label",
      "default": "Before"
    },
    {
      "type": "image_picker",
      "id": "after_image",
      "label": "After Image"
    },
    {
      "type": "text",
      "id": "after_image_alt",
      "label": "After Image Alt Text",
      "default": "After Image"
    },
    {
      "type": "text",
      "id": "after_label",
      "label": "After Label",
      "default": "After"
    }
  ],
  "presets": [
    {
      "name": "Before After Slider",
      "category": "Custom"
    }
  ]
}
{% endschema %}
